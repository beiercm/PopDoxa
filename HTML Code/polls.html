<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <link rel="shortcut icon" href="pic/icon.ico">
  <title>Polls</title>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
      <script src="/applications/js/html5shiv.min.js"></script>
      <script src="/applications/js/respond.min.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <link href="css/pe-icon-7-stroke.css" rel="stylesheet" />
  <link href="css/ct-navbar.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/polls.css">
  <script src="js/main.js"></script>

  <script type="text/javascript">
  $(document).ready(function(){
    showStates(); 

 $("#search").keyup(function(){
        // Retrieve the input field text and reset the count to zero
        var filter = $(this).val();
        // Loop through the comment list
          $("#quicklinks a").each(function(){
          // If the list item does not contain the text phrase fade it out
            if ($(this).text().search(new RegExp(filter, "i")) < 0) 
            {
              $(this).addClass('hidden');
            // Show the list item if the phrase matches and increase the count by 1
            } 
            else 
            {
              $(this).removeClass('hidden');
            }
          });//end of loop
        }); 

    
  });

  function showStates()
  {
     if(window.XMLHttpRequest)
     { //code for IE7+, Firefox, Chrome, Opera, Safari
       xmlhttp = new XMLHttpRequest(); 
     }
     else
     {//code for IE6, IE5
       xmlhttp = new ActiveXObject("Microsoft.XMLHTTP"); 
     }
     xmlhttp.onreadystatechange = function(){ 
       if(xmlhttp.readyState==4 && xmlhttp.status == 200)
       {
            document.getElementById("quicklinks").innerHTML = xmlhttp.responseText; 
       }
     }
     xmlhttp.open("GET", "/scripts/web_scripts/get_state_polls.php", true); 
     xmlhttp.send(); 
  }
  </script>
  <style type="text/css">
  #top
  {
    background: url(pic/darkerflag.png) no-repeat center center;
    background-size: 100% 100%; 
    min-height: 640px; 
  } 
 
  .level-states
  {
    padding: 10rem 0; 
    background: url(pic/busyCity.jpg) no-repeat center center fixed;
    background-size: 100% 100%; 
  } 

  #quicklinks
  {
    max-height: 400px; 
    overflow-y: auto;
  }
</style>
</head>
<body>
  <div class="row" id="top">
    <span id="navbarSection"></span>
    <div class="container" style="padding-top: 10px; padding-bottom: 10px; ">
      <h1>PopDoxa Polls<br /> Create or participate in political polls. </h1>
      <h2>Visit the site or mobile app to vote and participate in forums.</h2>
    </div>
  </div>

  <!-- View different graphs that will be shown section -->
  <div class="row" style="padding-top: 70px; padding-bottom: 100px">
    <div class="container">
      <h3>Poll Results</h3>
      <div class="summary">For every poll, there are two different graphs associated with it. <br />Click on any of the sections in the pie graph and see its details in the bar graph.</div>
      <div  style="text-align: center;">
          <img src="/pic/temp%20poll%20results.JPG" alt="Graph Pictures" style="width:600px; box-shadow: 10px 10px 5px #888888; border-radius: 7px;" />
      </div>
    </div>
  </div>

  <!-- Map section -->
  <div class="row visible-lg visible-md" style="padding-top: 70px; padding-bottom: 100px; background-color: #1D4059;">
    <div class="container">
      <h3 style="color: white; ">Click on one of the states below to view the poll or <br /> continue down below to view all of the states.</h3>
      <iframe src="http://www.makeaclickablemap.com/map.php?aaaf274b0a70cf3f38855105614bd21d435acebd" style="margin-left: 35px" frameborder="0" scrolling="no" height="720" width="960"></iframe>
    </div>
  </div>

  <!-- States Section --> 
  <div class="row level-states">
    <div class="container counties-level" style="display: table;">
      
      <div class="col-sm-6" style="vertical-align:middle; display: table-cell; height: 100%">
        <h1 class="title" style="text-align:left; font-size: 23px; margin-top: 15%">States</h1>
        <div class="subcaps" style="margin-top: 15px;">Click on one of the <br />states to view the counties's forums.</div>
        <form role="search" style="width:20%"><input type="search" id="search" class="form-control" placeholder="Search"></form>
      </div>
    
      <div class="col-sm-6">
        <div id="scrolling">
          <div class="list-group" id="quicklinks"></div>
        </div>
      </div>

    </div>
  </div>
  
  <span id="footerSection"></span>
</body>
</html>